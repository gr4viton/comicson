#:kivy 1.9


<RedDwarfQiz>:
    cols: 2
    layout_bottom: layout_bottom
    GridLayout:
        cols:1
        Menu:
            size_hint_y: 4
        GridLayout:
            id: layout_bottom
            cols: 1
#            Camera:
#                id: camera
#                resolution: 399, 299
##
#        BoxLayout:
#            orientation: 'horizontal'
#            size_hint_y: None
#            height: '48dp'
#            Button:
#                text: 'Start'
#                on_release: camera.play = True
#
#            Button:
#                text: 'Stop'
#                on_release: camera.play = False

<Menu>:
    min_move: 0.05
    scroll_distance: self.height * 0.3
    direction: 'bottom'
    GridLayout:
        cols: 1
        Label:
            font_size: 30
            #'RedDwarf Queez'
            text:
                ('[b][color=ffffff]RE[/color][color=ff0000]D\nD[/color][color=ffffff]WARF[/color][/b]\n'
                '[b][color=ac42dc]Queez[/color][/b]\n')
            markup: True
            valign: 'middle'
            halign: 'center'
            size: self.texture_size
            line_height: 0.9
#            size_hint_y: 0.3
    #        Label:
    #            text: 'Welcom to RDQ!'
    #        Label:
    #            multiline: 'true'
    #
    #            text: 'To navigate through this app use swipes to sides. Try it out!'
        Button:
            text: 'xkcd'
            size: sp(68), sp(62)
        Button:
            text: 'smbc'

    ComicScreen:


<CenteredAsyncImage>
#    size: self.texture_size
#    size_hint: None, None
#    size_hint: 1,1
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<ComicStrip>
    cols:1
    title: 'unitialized'
    image_url: ''
#    name: 'unitialized'
    Label:
        height: 10
        text: root.title

    CenteredAsyncImage
        source: root.image_url
#        source: 'http://kivy.org/funny-pictures-cat-is-expecting-you.jpg'

<ComicStripSlideViewer>
    min_move: 0.05
    scroll_distance: self.width * 0.05
    scroll_timeout: 400
    loop: True

    ComicStrip:
        name: '0'
    ComicStrip
        name: '1'
    ComicStrip
        name: '2'

<ComicScreen>
    GridLayout
        cols: 1
        GridLayout:
            cols:4
            height: 8
            Button:
                text: 'prev'
            Button:
                text: 'rnd'
            Button:
                text: 'hide'
            Button:
                text: 'next'

        ComicStripSlideViewer


<Page>:
    cols: 3
    name: 'unitialized'
    Label:
        text: root.name
    Label:
        text: str(id(root))
    Button
        text: 'load(page 3)'
        on_release:
            carousel = root.parent.parent
            carousel.load_slide(carousel.slides[2])
    Button
        text: 'prev'
        on_release:
            root.parent.parent.load_previous()
    Button
        text: 'next'
        on_release:
            root.parent.parent.load_next()




<StepWidget>:
    cols: 1
    stat_label: stat_label
    size_hint_y: None
    height: 300

    size_hint_x: 1/3
    padding: (2,2,2,2)
    spacing: (2,2)
    margin: 1
    color: .08,.16 , .24
    canvas.before:
        Color:
            rgb: self.color
        Rectangle:
            pos: self.x + self.margin, self.y + self.margin + 1
            size: self.width - 2 * self.margin , self.height - 2 * self.margin
#            self.thickness
    ToggleButton:
        id: toggle
        text: root.name
        size_hint_y: 0.15
        state: 'down'
        on_state: root.set_drawing(self.state == 'down')

    Image:
        id: kivy_image
        size_hint_y: 0.8
#        size_hint_x: 1
        background_normal: 'True'
    Label:
        id: stat_label
        valign: 'top'
        size_hint_y: 0.08
    #    on_touch_down: root.drawing = (toggle.state == 'down')
    #    on_press: print('jasd')
        #self.toggle_drawing()
    #    root.drawing = (toggle_object.state == 'down')

#    GridLayout
#        cols: 1